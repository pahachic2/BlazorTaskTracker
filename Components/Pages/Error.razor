@page "/Error"
@using System.Diagnostics

<PageTitle>Ошибка</PageTitle>

<div class="flex items-center justify-center min-h-screen">
    <div class="text-center">
        <h1 class="text-4xl font-bold text-red-600 mb-4">Ошибка</h1>
        <h2 class="text-xl text-gray-700 mb-6">Произошла ошибка при обработке вашего запроса.</h2>

        @if (ShowRequestId)
        {
            <p class="mb-4">
                <strong>ID запроса:</strong> <code class="bg-gray-100 px-2 py-1 rounded">@RequestId</code>
            </p>
        }

        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
            <h3 class="text-lg font-semibold text-yellow-800 mb-2">Режим разработки</h3>
            <p class="text-yellow-700 text-sm">
                В режиме разработки отображается более подробная информация об ошибках.
                Не включайте режим разработки в продакшене.
            </p>
        </div>

        <a href="/" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors">
            На главную
        </a>
    </div>
</div>

@code{
    private string? RequestId { get; set; }
    private bool ShowRequestId => !string.IsNullOrEmpty(RequestId);

    protected override void OnInitialized() =>
        RequestId = Activity.Current?.Id ?? Guid.NewGuid().ToString();
}
